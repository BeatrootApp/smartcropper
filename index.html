<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Smartcropper for Ruby</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <script src="javascripts/scale.fix.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>Smartcropper for Ruby</h1>
        <p>Content aware cropping for Ruby and Carrierwave</p>
        <p class="view"><a href="https://github.com/berkes/smartcropper">View the Project on GitHub <small>berkes/smartcropper</small></a></p>
        <ul>
          <li><a href="https://github.com/berkes/smartcropper/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/berkes/smartcropper/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/berkes/smartcropper">View On <strong>GitHub</strong></a></li>
        </ul>
      </header>
      <section>
        <h1>Smartcropper</h1>

<p>Content aware cropping.</p>

<p>Crops images based on entropy: leaving the most interesting part intact.</p>

<p>Best results achieved in combination with scaling: the cropping is then only used to square the image, cutting off the least interesting part. 
The trimming simply chops off te edge that is least interesting, and continues doing so, untill it reached the requested size.</p>

<h2>Usage</h2>

<p>Use it in <a href="https://github.com/jnicklas/carrierwave">carrierwave</a>, in a custom <code>manipulate!</code> block. For example, carrierwave in a Rails project:</p>

<p>File <em>uploaders/attachement_uploader.rb</em>: </p>

<pre><code>def smart_crop_and_scale(width, height)
  manipulate! do |img|
    img = CropToelie.new(img)
    img = img.smart_crop_and_scale(width, height)
    img = yield(img) if block_given?
    img
  end
end

# Create different versions of your uploaded files:
# A square and tiny thumbnail
version :thumb do
  process :smart_crop_and_scale =&gt; [80, 80]
end
# A large version, only cropped
version :preview do
  processs :crop =&gt; [200,400]
end
# A square version
version :cover do
  process :smart_square
end
</code></pre>

<h2>Examples</h2>

Below some examples, generated with <a href="https://gist.github.com/4161796">some code</a>.

<div class="group">
       <figure>
        <figcaption>original</figcaption>
        <img src="ts_orig.jpg" alt="original" />
       </figure>
       <figure>
        <figcaption>smart_crop 400, 300</figcaption>
        <img src="ts_smart_crop.jpg" alt="smart_crop 400, 300" />
       </figure>
       <figure>
        <figcaption>smart_crop_and_scale 400, 300</figcaption>
        <img src="ts_smart_crop_and_scale.jpg" alt="smart_crop_and_scale 400, 300" />
       </figure>
       <figure>
        <figcaption>smart_square</figcaption>
        <img src="ts_smart_square.jpg" alt="smart_square" />
       </figure></div>
<div class="group">
       <figure>
        <figcaption>original</figcaption>
        <img src="sikh_orig.jpg" alt="original" />
       </figure>
       <figure>
        <figcaption>smart_crop 400, 300</figcaption>
        <img src="sikh_smart_crop.jpg" alt="smart_crop 400, 300" />
       </figure>
       <figure>
        <figcaption>smart_crop_and_scale 400, 300</figcaption>
        <img src="sikh_smart_crop_and_scale.jpg" alt="smart_crop_and_scale 400, 300" />
       </figure>
       <figure>
        <figcaption>smart_square</figcaption>
        <img src="sikh_smart_square.jpg" alt="smart_square" />
       </figure></div>
<div class="group">
       <figure>
        <figcaption>original</figcaption>
        <img src="carice_orig.jpg" alt="original" />
       </figure>
       <figure>
        <figcaption>smart_crop 400, 300</figcaption>
        <img src="carice_smart_crop.jpg" alt="smart_crop 400, 300" />
       </figure>
       <figure>
        <figcaption>smart_crop_and_scale 400, 300</figcaption>
        <img src="carice_smart_crop_and_scale.jpg" alt="smart_crop_and_scale 400, 300" />
       </figure>
       <figure>
        <figcaption>smart_square</figcaption>
        <img src="carice_smart_square.jpg" alt="smart_square" />
       </figure></div>
<div class="group">
       <figure>
        <figcaption>original</figcaption>
        <img src="banksy_orig.jpg" alt="original" />
       </figure>
       <figure>
        <figcaption>smart_crop 400, 300</figcaption>
        <img src="banksy_smart_crop.jpg" alt="smart_crop 400, 300" />
       </figure>
       <figure>
        <figcaption>smart_crop_and_scale 400, 300</figcaption>
        <img src="banksy_smart_crop_and_scale.jpg" alt="smart_crop_and_scale 400, 300" />
       </figure>
       <figure>
        <figcaption>smart_square</figcaption>
        <img src="banksy_smart_square.jpg" alt="smart_square" />
       </figure></div>
<br class="clear"/>
      </section>
    </div>
    <footer>
      <p>Project maintained by <a href="https://github.com/berkes">berkes</a></p>
      <p>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></p>
    </footer>
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->
    
  </body>
</html>
